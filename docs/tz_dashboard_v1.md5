# üìå –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: Dashboard (MVP)

## üéØ –¶–µ–ª—å

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–¥–º–∏–Ω–∫–∏ (Dashboard), –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–≤–æ–¥–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ —Å–∏—Å—Ç–µ–º–µ —Ñ–∏—á–∞-—Ñ–ª–∞–≥–æ–≤, –≤–∫–ª—é—á–∞—è –ø—Ä–æ–µ–∫—Ç—ã, —Ñ–∏—á–∏, –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ–±—Ä–∞—â–µ–Ω–∏–π SDK (–≤ –ø–∞–º—è—Ç–∏).

---

## üóÇ –°–æ—Å—Ç–∞–≤–Ω—ã–µ —á–∞—Å—Ç–∏ Dashboard

### 1. –°–≤–æ–¥–∫–∞ (Summary Cards)

–ö–∞—Ä—Ç–æ—á–∫–∏ —Å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏:

* **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–µ–∫—Ç–æ–≤** (projects.count).
* **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏—á–µ–π** (features.count).
* **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏—á–µ–π** (features.enabled, —É—á–∏—Ç—ã–≤–∞—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è).
* **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ SDK-–∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 –º–∏–Ω—É—Ç** (–∏–∑ in-memory LRU —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏).

‚öôÔ∏è –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

* `projects` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ `projects`.
* `features` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ `features`.
* –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî —Ñ—É–Ω–∫—Ü–∏—è `IsFeatureActiveNow`.
* sdk-–º–µ—Ç—Ä–∏–∫–∏ ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π in-memory –º–æ–¥—É–ª—å (LRU-cache), –∫–æ—Ç–æ—Ä—ã–π —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –º–∏–Ω—É—Ç.

---

### 2. –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π (Upcoming Schedules)

–°–ø–∏—Å–æ–∫ –±–ª–∏–∂–∞–π—à–∏—Ö –≤–∫–ª—é—á–µ–Ω–∏–π/–≤—ã–∫–ª—é—á–µ–Ω–∏–π —Ñ–∏—á–µ–π:

* –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã: –±–ª–∏–∂–∞–π—à–∏–µ 10 –º–∏–Ω—É—Ç, 30 –º–∏–Ω—É—Ç, 1 —á–∞—Å, 24 —á–∞—Å–∞.
* –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:

  * –≤—Ä–µ–º—è (UTC/–ª–æ–∫–∞–ª—å–Ω–æ–µ),
  * –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏—á–∏,
  * –¥–µ–π—Å—Ç–≤–∏–µ (ENABLE/DISABLE).

‚öôÔ∏è –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

* —Ç–∞–±–ª–∏—Ü–∞ `feature_schedules` (—Å `starts_at`, `ends_at`, `cron_expr`).
* –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ cron –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å robfig/cron.

---

### 3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ SDK-–∑–∞–ø—Ä–æ—Å–æ–≤ (SDK Request Activity)

–ü–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 –º–∏–Ω—É—Ç (–∏–ª–∏ –¥—Ä—É–≥–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ–µ –æ–∫–Ω–æ).

* **–¢–æ–ø-5 —Ñ–∏—á–µ–π** –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ–±—Ä–∞—â–µ–Ω–∏–π.
* **–¢–æ–ø-5 –ø—Ä–æ–µ–∫—Ç–æ–≤** –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ–±—Ä–∞—â–µ–Ω–∏–π.
* –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –æ–∫–Ω–æ.

‚öôÔ∏è –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

* In-memory –º–æ–¥—É–ª—å (`sdkStats`), –∫–æ—Ç–æ—Ä—ã–π —Å—á–∏—Ç–∞–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è:

  * –∫–ª—é—á: (projectID, featureKey),
  * –∑–Ω–∞—á–µ–Ω–∏–µ: —Å—á—ë—Ç—á–∏–∫ –∑–∞ sliding window (LRU, TTL \~15 –º–∏–Ω—É—Ç).

---

### 4. –õ–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ / –∞–ª–µ—Ä—Ç—ã (Recent Activity / Alerts)

–õ–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–±—ã—Ç–∏–π:

* –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∏—á–µ–π (enable/disable, –∏–∑–º–µ–Ω–µ–Ω–∏–µ rollout/variants),
* –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π,
* –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤,
* (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏) —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:

  * –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è,
  * sdk-–∑–∞–ø—Ä–æ—Å –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Ñ–ª–∞–≥—É.

‚öôÔ∏è –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

* —Ç–∞–±–ª–∏—Ü–∞ `audit_log` (–µ—Å–ª–∏ –Ω–µ—Ç, –Ω—É–∂–Ω–æ –∑–∞–≤–µ—Å—Ç–∏ –ø—Ä–æ—Å—Ç—É—é —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –∑–∞–ø–∏—Å–∏ —Å–æ–±—ã—Ç–∏–π).
* –æ—à–∏–±–∫–∏ SDK-–∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî –∏–∑ in-memory —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

---

## üîë –†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø

* **Superuser**:

  * –≤–∏–¥–∏—Ç –≤—Å—ë (–≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã, –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏).
* **Project admin / user**:

  * –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ–µ–∫—Ç—ã, –∫ –∫–æ—Ç–æ—Ä—ã–º –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø.
  * SDK-–º–µ—Ç—Ä–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

1. **Backend**:

   * –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `GET /dashboard`:

     * –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –±–ª–æ–∫–∞–º–∏:

       * summary,
       * upcomingSchedules,
       * sdkStats,
       * recentActivity.
   * –º–æ–¥—É–ª—å `sdkStats` (in-memory):

     * LRU + TTL 15 –º–∏–Ω—É—Ç,
     * –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º SDK-–∑–∞–ø—Ä–æ—Å–µ.
   * —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–ª–∏–∂–∞–π—à–∏—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π (–Ω–∞ –æ—Å–Ω–æ–≤–µ `feature_schedules`).
   * —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∫–∏ audit-–ª–æ–≥–æ–≤ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 –∑–∞–ø–∏—Å–µ–π).
2. **Frontend (Admin UI)**:

   * –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Dashboard (`/dashboard`).
   * layout:

     * –≤–µ—Ä—Ö–Ω–∏–π —Ä—è–¥: summary cards,
     * –Ω–∏–∂–µ: upcoming schedules (—Ç–∞–±–ª–∏—Ü–∞/–ª–µ–Ω—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏),
     * —Å–ø—Ä–∞–≤–∞ –∏–ª–∏ —Å–Ω–∏–∑—É: sdk request activity (—Ç–∞–±–ª–∏—Ü–∞),
     * –≤–Ω–∏–∑—É: recent activity log.
   * –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: polling —Ä–∞–∑ –≤ 30‚Äì60 —Å–µ–∫—É–Ω–¥.

---

## üìä –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ API `/dashboard`

```json
{
  "summary": {
    "projects": 12,
    "features": 45,
    "activeFeatures": 28,
    "sdkRequestsLast15m": 2300
  },
  "upcomingSchedules": [
    {"time": "2025-09-16T12:05:00Z", "feature": "checkout_v2", "action": "enable"},
    {"time": "2025-09-16T12:30:00Z", "feature": "beta_ui", "action": "disable"}
  ],
  "sdkStats": {
    "topFeatures": [
      {"feature": "checkout_v2", "requests": 830},
      {"feature": "search_opt", "requests": 620}
    ],
    "topProjects": [
      {"project": "Project A", "requests": 1200},
      {"project": "Project B", "requests": 700}
    ],
    "totalRequests": 2300
  },
  "recentActivity": [
    {"time": "2025-09-16T11:55:00Z", "user": "alice", "action": "enabled feature checkout_v2"},
    {"time": "2025-09-16T11:50:00Z", "system": true, "action": "overlapping schedules detected for beta_ui"}
  ]
}
```

---

‚ö°Ô∏è –ò—Ç–æ–≥–æ: Dashboard MVP = **summary + —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è + in-memory sdk-—Å—Ç–∞—Ç–∞ + –ª–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π**.
–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ SDK –¥–µ–ª–∞—é—Ç—Å—è lightweight, –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤, –Ω–æ —É–∂–µ –¥–∞—é—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å.
